<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Git原理实践 :runner:预备知识：Git的各种指令的使用，参考下图   开始我们的Git原理探索之路，感谢UP主麦兜搞IT的系列视频，这也是我参考的来源，下面将从一系列实战探索Git在背后帮我们做了哪些工作。  当运行git init时，当前目录下会生成一个名为.git&#x2F;的Git初始仓库，其目录结构如下(为了方便观察已经rm -r .git&#x2F;hooks&#x2F;*.sample)  我们先简单地说">
<meta property="og:type" content="article">
<meta property="og:title" content="Git原理实践">
<meta property="og:url" content="https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/index.html">
<meta property="og:site_name" content="大军的秘密花园">
<meta property="og:description" content="Git原理实践 :runner:预备知识：Git的各种指令的使用，参考下图   开始我们的Git原理探索之路，感谢UP主麦兜搞IT的系列视频，这也是我参考的来源，下面将从一系列实战探索Git在背后帮我们做了哪些工作。  当运行git init时，当前目录下会生成一个名为.git&#x2F;的Git初始仓库，其目录结构如下(为了方便观察已经rm -r .git&#x2F;hooks&#x2F;*.sample)  我们先简单地说">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230420144326-1686751130699-1.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/git-cheat-sheet_00-1686751130699-2.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230421101432878-1686751130699-3.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421104840-1686751130699-4.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421111931-1686751130699-6.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230421112154609-1686751130699-8.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125104-1686751130699-7.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125206-1686751130699-5.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125817-1686751130699-10.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421130047-1686751130699-12.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421130120-1686751130699-9.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421131604-1686751130699-13.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421131754-1686751130699-11.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132052-1686751130699-16.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132458-1686751130699-14.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132422-1686751130699-17.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132713-1686751130699-18.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135255-1686751130699-15.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135517-1686751130699-19.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135719-1686751130699-20.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135909-1686751130699-21.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421140009-1686751130699-22.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421140243-1686751130699-25.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141710-1686751130699-23.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141815-1686751130699-27.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141848-1686751130699-24.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141938-1686751130699-26.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142031-1686751130699-28.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142122-1686751130699-30.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142214-1686751130699-29.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142449-1686751130699-31.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142757-1686751130699-36.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421143206-1686751130699-32.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421143355-1686751130699-33.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144215-1686751130699-34.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144306-1686751130699-35.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144418-1686751130699-37.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421145047-1686751130699-38.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422093408-1686751130700-39.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422094031-1686751130700-43.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102030-1686751130700-40.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102641-1686751130700-41.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102706-1686751130700-42.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422103115-1686751130700-46.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422103226-1686751130700-44.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422104951-1686751130700-45.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422105412-1686751130700-47.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422110309-1686751130700-48.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422110606-1686751130700-49.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422112718-1686751130700-50.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422113603-1686751130700-51.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422122545-1686751130700-53.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422124134-1686751130700-54.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422124331-1686751130700-52.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230422132628382-1686751130700-56.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133341-1686751130700-55.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133606-1686751130700-57.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133658-1686751130700-58.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422135916-1686751130700-59.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140135-1686751130700-60.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140330-1686751130700-61.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140543-1686751130700-62.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140703-1686751130700-64.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140858-1686751130700-63.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426202414-1686751130700-65.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426202838-1686751130700-68.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426203002-1686751130700-67.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204103-1686751130700-66.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204458-1686751130700-69.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204753-1686751130700-70.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426205142-1686751130700-71.png">
<meta property="og:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426205541-1686751130700-72.png">
<meta property="article:published_time" content="2023-06-14T12:57:02.042Z">
<meta property="article:modified_time" content="2023-06-14T13:59:10.932Z">
<meta property="article:author" content="hulingF">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hulingf.github.io/imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230420144326-1686751130699-1.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Git原理实践</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/hulingF">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/06/14/%E6%96%87%E7%AB%A0%E8%BF%81%E7%A7%BB/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/05/29/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&text=Git原理实践"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&is_video=false&description=Git原理实践"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Git原理实践&body=Check out this article: https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&name=Git原理实践&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&t=Git原理实践"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.</span> <span class="toc-text">Git原理实践</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Git原理实践
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">hulingF</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-06-14T12:57:02.042Z" class="dt-published" itemprop="datePublished">2023-06-14</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="Git原理实践"><a href="#Git原理实践" class="headerlink" title="Git原理实践"></a>Git原理实践</h1><p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230420144326-1686751130699-1.png" alt="image-20230420144324801"></p>
<p>:runner:预备知识：Git的各种指令的使用，参考下图</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/git-cheat-sheet_00-1686751130699-2.png" alt="git-cheat-sheet_00"></p>
<blockquote>
<p>开始我们的Git原理探索之路，感谢UP主麦兜搞IT的系列视频，这也是我参考的来源，下面将从一系列实战探索Git在背后帮我们做了哪些工作。</p>
</blockquote>
<p>当运行<code>git init</code>时，当前目录下会生成一个名为<code>.git/</code>的Git初始仓库，其目录结构如下(为了方便观察已经<code>rm -r .git/hooks/*.sample</code>)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230421101432878-1686751130699-3.png" alt="image-20230421101432878"></p>
<p>我们先简单地说一下Git仓库下每个目录及文件的作用或概念：</p>
<ul>
<li>HEAD：可以理解为一个指向当前工作分支的的指针，一般内容类似<code>ref: refs/heads/master</code>，当然发生HEAD分离时(使用<code>git checkout SHA-1</code>)其内容也可以是具体commit对象的SHA-1值。</li>
<li>config：可以理解为当前Git仓库的本地配置文件，存储着<code>local</code>级别的配置，Git中有三个级别的配置，其中<code>system</code>对应配置文件<code>/etc/gitconfig</code>，<code>global</code>对应配置文件<code>~/.gitconfig</code>，<code>local</code>级别对应配置文件<code>当前工作目录/.git/config</code>，默认优先级<code>local&gt;global&gt;system</code>。</li>
</ul>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421104840-1686751130699-4.png" alt="image-20230421104839076"></p>
<ul>
<li><p>index：初始化Git仓库时index文件尚不存在，当首次调用<code>git add xx</code>时会创建index文件即暂存区，存放着下一次提交的快照信息(类似于root tree)，可以使用Git底层命令<code>git ls-file -s</code>。</p>
</li>
<li><p>info目录：包含一个全局性排除(global exclude)文件 ， 用以放置那些不希望被记录在 <code>.gitignore</code>文件中的忽略模式。</p>
</li>
<li><p>hooks目录：包含客户端或服务端的钩子脚本。</p>
</li>
<li><p>object目录：存储所有的数据内容，其中文件的命名根据SHA-1算法计算，类似于<code>b0/2h846gjsy99uuussxlnn2600su4n8d55ku8902</code>，SHA-1值的前2位作为目录名，剩下38位作为文件名，每个文件存储的都是压缩后的数据，无法直接查看(乱码，需要使用Git底层命令<code>git cat-file</code>)。</p>
</li>
<li><p>refs目录：存储指向数据(分支、远程仓库和标签等)的提交对象的指针。</p>
</li>
</ul>
<hr>
<p>当我们创建了一个<code>hello.txt</code>文件后并使用<code>git add hello.txt</code>加入暂存区后，一句话概括就是Git帮我们创建一个压缩对象，并在暂存区添加文件信息，具体如下：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421111931-1686751130699-6.png" alt="image-20230421111929924"></p>
<p>我们可以利用Git的底层命令查看具体文件的内容，此时会发现Git帮我们创建了一个<code>blob对象</code>，存储的正是<code>hello.txt</code>中的数据<code>hello git\n</code>，共计10字节。同时，暂存区也添加了对应一行信息，包括文件模型、SHA-1值、文件名，其中文件模式为 100644，表明这是一个普通文件。 其他选择包括：100755，表示一个可执行文件；120000，表示一个符号链接。 这里的文件模式参考了常见的 UNIX 文件模式，但远没那么灵活——上述三种模式即是 Git 文件（即数据对象）的所有合法模式。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230421112154609-1686751130699-8.png" alt="image-20230421112154609"></p>
<blockquote>
<p>从这里可以看出，暂存区保存着下一次提交时的仓库快照信息，当我们提交时会根据暂存区的信息创建相应的tree对象和commit对象，这也解释了为什么我们调用<code>git status</code>时Git能自动识别哪些文件是untracked，哪些文件是tracked，哪些文件是modified，那些文件是to be commited，这都是通过比较工作目录下的文件与暂存区内指向的文件(blob对象)数据的差异得到的。</p>
</blockquote>
<p>我们这里稍微阐述一下objects目录下的文件名怎么计算得到的：以blob对象举例，上面的<code>hello.txt</code>文件的SHA-1值是通过”blob 10\0hello git\n”散列得到的，其中blob代表对象类型是blob类型；10代表文件的长度；<code>\0</code>代表头部的结束；后面的都是文件的具体内容。</p>
<p>&#x3D;&#x3D;注意：实际存储文件内容需要进行压缩，查看文件内容时需要进行解压缩，这些通过zlib库实现。&#x3D;&#x3D;</p>
<blockquote>
<p>这也解释了<code>git cat-file</code>底层命令的选项<code>-t -s -p</code>的意义，通过SHA-1值找到压缩文件并解压缩查看文件内容<code>hello git\n</code>并计算文件长度<code>10</code>，最后通过散列算法<code>SHA-1</code>与文件名<code>8d0e41234f24b6da002d962a26c2495ea16a425f</code>推出对象类型<code>blob</code>。</p>
</blockquote>
<hr>
<p>当我们进行<code>git commit</code>时Git会帮我们做哪些工作呢？</p>
<p>简而言之就是根据暂存区创建类似于目录结构的<code>tree对象</code>和<code>commit对象</code>，并更新refs目录下的分支引用如<code>refs/heads/master</code>和系统日志(logs目录下的内容)。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125104-1686751130699-7.png" alt="image-20230421125102502"></p>
<blockquote>
<p>上图我们也能看到暂存区存放的是添加到暂存区的最新的blob对象的SHA-1值。</p>
</blockquote>
<p>我们使用<code>git status</code>查看当前仓库状态：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125206-1686751130699-5.png" alt="image-20230421125205041"></p>
<p>我们使用<code>git commit</code>提交当前版本：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421125817-1686751130699-10.png" alt="image-20230421125816176"></p>
<p> 此时发现objects目录下多出来两个文件，其实就是Git创建的tree对象和commit对象。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421130047-1686751130699-12.png" alt="image-20230421130046753"></p>
<p>查看这两个对象的信息，commit对象存储了其指向的tree对象和父提交对象(root commit不存在parent commit)以及作者、提交者信息和提交信息；tree对象存储了下一级tree对象(可能不存在)和blob对象的信息。 </p>
<blockquote>
<p>一个树对象包含了一条或多条树对象记录(tree entry)，每条记录含有一个指向数据对象或者子树对象的SHA-1指针，以及相应的模式、类型、文件名信息</p>
</blockquote>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421130120-1686751130699-9.png" alt="image-20230421130119789"></p>
<p>当我们修改<code>file2.txt</code>文件并再次提交时，Git会帮我们创建三个压缩文件：新的<code>file2.txt</code>的blob对象、新的tree对象、新的commit对象。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421131604-1686751130699-13.png" alt="image-20230421131603089"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421131754-1686751130699-11.png" alt="image-20230421131753381"></p>
<p>我们查看多出来的三个文件的详细信息，可以看出Git自动形成了一个commit对象的版本链(通过parent指针)，此时refs目录下的引用文件存储着最新的commit对象的SHA-1值，因此可以沿着版本链回溯版本变更历史！</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132052-1686751130699-16.png" alt="image-20230421132051396"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132458-1686751130699-14.png" alt="image-20230421132457225"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132422-1686751130699-17.png" alt="image-20230421132421210"></p>
<p>此时我们可以看一下Git对象的层级结构(忽略commit对象的SHA-1，因为借鉴的网图)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421132713-1686751130699-18.png" alt="image-20230421132712095"></p>
<hr>
<p>我们再来看一下稍微复杂一点的提交过程，即当前工作目录下有子目录的情况。</p>
<p>当我们添加一个<code>folder1/file3.txt</code>文件并<code>git add folder1/</code>时，Git会帮我们创建一个新的blob对象存储<code>file3.txt</code>的内容，并更新暂存区：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135255-1686751130699-15.png" alt="image-20230421135253334"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135517-1686751130699-19.png" alt="image-20230421135516526"></p>
<p>暂存区存储着代码的目录结构，当提交代码库时会生成所有必要的tree对象，下面调用<code>git commit</code>并查看多出了哪些文件：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135719-1686751130699-20.png" alt="image-20230421135718210"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421135909-1686751130699-21.png" alt="image-20230421135908552"></p>
<p>此时我们可以看一下Git对象的层级结构(忽略commit对象的SHA-1，因为借鉴的网图)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421140009-1686751130699-22.png" alt="image-20230421140007937"></p>
<hr>
<p>Git中文件状态是如何转变的呢，可以参考下图：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421140243-1686751130699-25.png" alt="image-20230421140242568"></p>
<hr>
<p>:fallen_leaf:这里我们引申一下Git的基本工作流程方便我们理解Git的<code>reset</code>和<code>checkout</code>命令</p>
<p>理解<code>reset</code>和<code>checkout</code>的最简方法，就是以Git的思维框架(将其作为内容管理器)来管理三棵不同的树。“树” 在我们这里的实际意思是 “文件的集合”，而不是指特定的数据结构。 (在某些情况下索引看起来并不像一棵树，不过我们现在的目的是用简单的方式思考它。)</p>
<p>Git作为一个系统，是以它的一般操作来管理并操纵这三棵树的：</p>
<table>
<thead>
<tr>
<th>树</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>HEAD</td>
<td>上一次提交的快照，下一次提交的父结点</td>
</tr>
<tr>
<td>Index</td>
<td>预期的下一次提交的快照</td>
</tr>
<tr>
<td>Working Directory</td>
<td>沙盒</td>
</tr>
</tbody></table>
<p>:arrow_heading_down:HEAD</p>
<p>HEAD是当前分支引用的指针，它总是指向该分支上的最后一次提交。 这表示HEAD将是下一次提交的父结点。 通常，理解HEAD的最简方式，就是将它看做<code>该分支上的最后一次提交的快照</code>。</p>
<p>其实，查看快照的样子很容易。 下例就显示了HEAD快照实际的目录列表，以及其中每个文件的 SHA-1 校验和：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git cat-file -p HEAD</span></span><br><span class="line">tree cfda3bf379e4f8dba8717dee55aab78aef7f4daf</span><br><span class="line">author Scott Chacon 1301511835 -0700</span><br><span class="line">committer Scott Chacon 1301511835 -0700</span><br><span class="line">initial commit</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git ls-tree -r HEAD</span></span><br><span class="line">100644 blob a906cb2a4a904a152... README</span><br><span class="line">100644 blob 8f94139338f9404f2... Rakefile</span><br><span class="line">040000 tree 99f1a6d12cb4b6f19... lib</span><br></pre></td></tr></table></figure>

<p>:sagittarius:Index</p>
<p>索引是你的<code>预期的下一次提交</code>。 我们也会将这个概念引用为Git的“暂存区”，这就是当你运行<code>git commit</code>时Git看起来的样子。</p>
<p>Git将上一次检出到工作目录中的所有文件填充到索引区，它们看起来就像最初被检出时的样子。 之后你会将其中一些文件替换为新版本，接着通过<code>git commit</code>将它们转换为树来用作新的提交。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git ls-files -s</span></span><br><span class="line">100644 a906cb2a4a904a152e80877d4088654daad0c859 0 README</span><br><span class="line">100644 8f94139338f9404f26296befa88755fc2598c289 0 Rakefile</span><br><span class="line">100644 47c6340d6459e05787f644c2447d2595f5d3a54b 0 lib/simplegit.rb</span><br></pre></td></tr></table></figure>

<blockquote>
<p>确切来说，索引在技术上并非树结构，它其实是以扁平的清单实现的。不过对我们而言，把它当做树就够了。</p>
</blockquote>
<p>:file_folder:Working Directory</p>
<p>最后，你就有了自己的<code>工作目录</code>(通常也叫<code>工作区</code>)。 另外两棵树以一种高效但并不直观的方式，将它们的内容存储在<code>.git</code>文件夹中。 工作目录会将它们解包为实际的文件以便编辑。 你可以把工作目录当做<code>沙盒</code>。在你将修改提交到暂存区并记录到历史之前，可以随意更改。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tree</span></span><br><span class="line">.</span><br><span class="line">├── README</span><br><span class="line">├── Rakefile</span><br><span class="line">└── lib</span><br><span class="line">  └── simplegit.rb</span><br><span class="line">1 directory, 3 files</span><br></pre></td></tr></table></figure>

<p>:factory:工作流程</p>
<p>经典的Git工作流程是通过操纵这三个区域来以更加连续的状态记录项目快照的。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141710-1686751130699-23.png" alt="image-20230421141708554"></p>
<p>让我们来可视化这个过程：假设我们进入到一个新目录，其中有一个文件。 我们称其为该文件的<code>v1</code>版本，将它标记为蓝色。 现在运行<code>git init</code>，这会创建一个Git仓库，其中的HEAD引用指向未创建的 master 分支。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141815-1686751130699-27.png" alt="image-20230421141814434"></p>
<p>此时，只有工作目录有内容。现在我们想要提交这个文件，所以用<code>git add</code>来获取工作目录中的内容，并将其复制到索引中。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141848-1686751130699-24.png" alt="image-20230421141847778"></p>
<p>接着运行<code>git commit</code>，它会取得索引中的内容并将它保存为一个永久的快照， 然后创建一个指向该快照的提交对象，最后更新<code>master</code>来指向本次提交。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421141938-1686751130699-26.png" alt="image-20230421141937839"></p>
<p>此时如果我们运行<code>git status</code>，会发现没有任何改动，因为现在三棵树完全相同。</p>
<p>现在我们想要对文件进行修改然后提交它。 我们将会经历同样的过程；首先在工作目录中修改文件。 我们称其为该文件的<code>v2</code>版本，并将它标记为红色。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142031-1686751130699-28.png" alt="image-20230421142030069"></p>
<p>如果现在运行<code>git status</code>，我们会看到文件显示在 “Changes not staged for commit” 下面并被标记为红色，因为该条目在索引与工作目录之间存在不同。 接着我们运行<code>git add</code>来将它暂存到索引中。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142122-1686751130699-30.png" alt="image-20230421142121637"></p>
<p>此时，由于索引和HEAD不同，若运行<code>git status</code>的话就会看到 “Changes to be committed” 下的该文件变为绿色 ——也就是说，现在预期的下一次提交与上一次提交不同。 最后，我们运行<code>git commit</code>来完成提交。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142214-1686751130699-29.png" alt="image-20230421142213451"></p>
<p>现在运行<code>git status</code>会没有输出，因为三棵树又变得相同了。</p>
<blockquote>
<p>切换分支或克隆的过程也类似。 &#x3D;&#x3D;当检出一个分支时，它会修改HEAD指向新的分支引用，将索引填充为该次提交的快照， 然后将索引的内容复制到工作目录中。&#x3D;&#x3D;</p>
</blockquote>
<p>:railway_car:重置的作用</p>
<p>在以下情景中观察<code>reset</code>命令会更有意义。</p>
<p>为了演示这些例子，假设我们再次修改了<code>file.txt</code>文件并第三次提交它。 现在的历史看起来是这样的：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142449-1686751130699-31.png" alt="image-20230421142448089"></p>
<p>让我们跟着<code>reset</code>看看它都做了什么。 它以一种简单可预见的方式直接操纵这三棵树。 它做了三个基本操作。</p>
<ul>
<li>&#x3D;&#x3D;第1步：移动 HEAD&#x3D;&#x3D;</li>
</ul>
<p><code>reset</code>做的第一件事是移动<code>HEAD</code>的指向。 这与改变HEAD自身不同(<code>checkout</code>所做的)；<code>reset</code>移动HEAD指向的分支。 这意味着如果HEAD设置为<code>master</code>分支(例如，你正在<code>master</code>分支上)， 运行<code>git reset 9e5e6a4</code>将会使<code>master</code>指向<code>9e5e6a4</code>。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421142757-1686751130699-36.png" alt="image-20230421142756515"></p>
<p>无论你调用了何种形式的带有一个提交的reset，它首先都会尝试这样做。 使用<code>reset --soft</code>，它将仅仅停在那儿。</p>
<p>现在看一眼上图，理解一下发生的事情：它本质上是撤销了上一次<code>git commit</code>命令。 当你在运行<code>git commit</code>时，Git会创建一个新的提交，并移动HEAD所指向的分支来使其指向该提交。 当你将它<code>reset</code>回<code>HEAD~</code>(HEAD的父结点)时，其实就是把该分支移动回原来的位置，而不会改变索引和工作目录。 现在你可以更新索引并再次运行<code>git commit</code>来完成<code>git commit --amend</code>所要做的事情了&#96;。</p>
<ul>
<li>&#x3D;&#x3D;第2步：更新索引(–mixed)&#x3D;&#x3D;</li>
</ul>
<p>注意，如果你现在运行<code>git status</code>的话，就会看到新的HEAD和以绿色标出的它和索引之间的区别。接下来，<code>reset</code>会用HEAD指向的当前快照的内容来更新索引。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421143206-1686751130699-32.png" alt="image-20230421143205612"></p>
<p>如果指定<code>--mixed</code>选项，reset将会在这时停止。 这也是默认行为，所以如果没有指定任何选项(在本例中只是<code>git reset HEAD~</code>)，这就是命令将会停止的地方。</p>
<p>现在再看一眼上图，理解一下发生的事情：它依然会撤销一上次提交，但还会取消暂存所有的东西。 于是，我们回滚到了所有<code>git add</code>和<code>git commit</code>的命令执行之前。</p>
<ul>
<li>&#x3D;&#x3D;第3步：更新工作目录(–hard)&#x3D;&#x3D;</li>
</ul>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421143355-1686751130699-33.png" alt="image-20230421143353842"></p>
<p>现在让我们回想一下刚才发生的事情。 你撤销了最后的提交、<code>git add</code>和<code>git commit </code>命令以及工作目录中的所有工作。</p>
<blockquote>
<p>必须注意，<code>--hard</code>标记是<code>reset</code>命令唯一的危险用法，它也是Git会真正地销毁数据的仅有的几个操作之一。其他任何形式的<code>reset</code>调用都可以轻松撤消，但是<code>--hard</code>选项不能，因为它强制覆盖了工作目录中的文件。在这种特殊情况下，我们的Git数据库中的一个提交内还留有该文件的<code>v3</code>版本， 我们可以通过<code>reflog</code>来找回它。但是若该文件还未提交，Git仍会覆盖它从而导致无法恢复。</p>
</blockquote>
<p>:hammer:回顾</p>
<p><code>reset</code>命令会以特定的顺序重写这三棵树，在你指定以下选项时停止：</p>
<ol>
<li>移动HEAD分支的指向 （若指定了<code>--soft</code>，则到此停止）</li>
<li>使索引看起来像HEAD （若未指定 <code>--hard</code>，则到此停止）</li>
<li>使工作目录看起来像索引</li>
</ol>
<p>:paintbrush:通过路径来重置</p>
<p>前面讲述了<code>reset</code>基本形式的行为，不过你还可以给它提供一个作用路径。<code>若指定了一个路径，reset 将会跳过第1步，并且将它的作用范围限定为指定的文件或文件集合。 </code>这样做自然有它的道理，因为HEAD只是一个指针，你无法让它同时指向两个提交中各自的一部分。 不过索引和工作目录可以部分更新，所以重置会继续进行第2、3步。</p>
<p>现在，假如我们运行<code>git reset file.txt</code>（这其实是<code>git reset --mixed HEAD file.txt </code>的简写形式，因为你既没有指定一个提交的SHA-1或分支，也没有指定<code>--soft</code>或<code>--hard</code>），它会：</p>
<ol>
<li>移动HEAD分支的指向 （已跳过）</li>
<li>让索引看起来像HEAD（到此处停止）</li>
</ol>
<p>所以它本质上只是将<code>file.txt</code>从HEAD复制到索引中。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144215-1686751130699-34.png" alt="image-20230421144214050"></p>
<p>它还有&#x3D;&#x3D;取消暂存文件&#x3D;&#x3D;的实际效果。 如果我们查看该命令的示意图，然后再想想<code>git add</code>所做的事，就会发现它们正好相反。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144306-1686751130699-35.png" alt="image-20230421144304839"></p>
<p>这就是为什么<code>git status</code>命令的输出会建议运行此命令来取消暂存一个文件。 </p>
<p>我们可以不让Git从HEAD拉取数据，而是通过具体指定一个提交来拉取该文件的对应版本。 我们只需运行类似于<code>git reset eb43bf file.txt</code>的命令即可。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421144418-1686751130699-37.png" alt="image-20230421144417641"></p>
<p>:sagittarius:检出的作用</p>
<p>最后，你大概还想知道<code>checkout</code>和<code>reset</code>之间的区别。 和<code>reset</code>一样，<code>checkout</code>也操纵三棵树，不过它有一点不同，这取决于你是否传给该命令一个文件路径。</p>
<ul>
<li>&#x3D;&#x3D;不带路径&#x3D;&#x3D;</li>
</ul>
<p>运行<code>git checkout [branch]</code>与运行<code>git reset --hard [branch]</code>非常相似，它会更新所有三棵树使其看起来像<code>[branch]</code>，不过有两点重要的区别。</p>
<p>首先不同于<code>reset --hard</code>，<code>checkout</code>对工作目录是安全的，它会通过检查来确保不会将已更改的文件弄丢。 其实它还更聪明一些。它会在工作目录中先试着简单合并一下，这样所有还未修改过的文件都会被更新。而<code>reset --hard</code>则会不做检查就全面地替换所有东西。</p>
<p>第二个重要的区别是<code>checkout</code>如何更新HEAD。 <code>reset</code>会移动HEAD分支的指向，而 <code>checkout</code>只会移动HEAD自身来指向另一个分支。</p>
<p>例如，假设我们有<code>master</code>和<code>develop</code>分支，它们分别指向不同的提交；我们现在在<code>develop</code>上（所以HEAD指向它）。 如果我们运行<code>git reset master</code>，那么<code>develop</code>自身现在会和<code>master</code>指向同一个提交。 而如果我们运行<code>git checkout master</code>的话，<code>develop</code>不会移动，HEAD自身会移动。 现在HEAD将会指向<code>master</code>。</p>
<blockquote>
<p>所以，虽然在这两种情况下我们都移动HEAD使其指向了提交A，但做法是非常不同的。 reset会移动HEAD分支的指向，而checkout则移动HEAD自身。</p>
</blockquote>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230421145047-1686751130699-38.png" alt="image-20230421145046696"></p>
<ul>
<li>&#x3D;&#x3D;带路径&#x3D;&#x3D;</li>
</ul>
<p>运行<code>checkout</code>的另一种方式就是指定一个文件路径，这会像<code>reset</code>一样不会移动 HEAD。 它就像<code>git reset [branch] file</code>那样用该次提交中的那个文件来更新索引，但是它也会覆盖工作目录中对应的文件。它就像是<code>git reset --hard [branch] file</code>（如果 reset 允许你这样运行的话）， 这样对工作目录并不安全，它也不会移动 HEAD。</p>
<p>它还有&#x3D;&#x3D;取消工作目录下的修改&#x3D;&#x3D;的实际效果。 </p>
<p>这就是为什么<code>git status</code>命令的输出会建议运行此命令来丢弃一个修改。</p>
<hr>
<p>下面我们接着说Git的分支管理，分支管理可谓是Git的<code>杀手级特性</code>，也正因为这一特性，使得 Git 从众多版本控制系统中脱颖而出。 为何 Git 的分支模型如此出众呢？ Git 处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。 </p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422093408-1686751130700-39.png" alt="image-20230422093407405"></p>
<p>当我们在<code>dev</code>分支修改文件并<code>git commit</code>后，<code>dev</code>分支超前<code>master</code>分支一次提交：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422094031-1686751130700-43.png" alt="image-20230422094030670"></p>
<blockquote>
<p>由于Git的分支实质上仅是包含所指对象校验和（长度为40的SHA-1值字符串）的文件，所以它的创建和销毁都异常高效。 创建一个新分支就相当于往一个文件中写入41个字节（40个字符和1个换行符），如此的简单能不快吗？</p>
</blockquote>
<p>这与过去大多数版本控制系统形成了鲜明的对比，它们在创建分支时，将所有的项目文件都复制一遍，并保存到一个特定的目录。 完成这样繁琐的过程通常需要好几秒钟，有时甚至需要好几分钟。所需时间的长短，完全取决于项目的规模。 而在Git 中，任何规模的项目都能在瞬间创建新分支。 同时，由于每次提交都会记录父对象，所以寻找恰当的合并基础（译注：即共同祖先）也是同样的简单和高效。 这些高效的特性使得Git鼓励开发人员频繁地创建和使用分支。</p>
<hr>
<p>我们紧接着看一下<code>HEAD分离</code>的概念与作用，当我们不小心删除了一个未合并的分支(使用<code>-D</code>)，实际删除的仅仅是一个分支引用文件，其指向的commit对象等都丝毫未变，只是此时我们无法通过简单的分支引用到该<code>commit</code>，此时我们称这个commit是<code>不可达的commit</code>，但是通过<code>reflog + HEAD分离</code>我们能够再次找回该分支:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102030-1686751130700-40.png" alt="image-20230422102029536"></p>
<p>当我们不小心删除了<code>dev</code>分支随后又反悔了，其实还存在反悔药，下面演示：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102641-1686751130700-41.png" alt="image-20230422102640428"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422102706-1686751130700-42.png" alt="image-20230422102705194"></p>
<p>此时我们可以通过<code>git checkout 52e2264</code>回溯到<code>dev</code>分支的提交位置:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422103115-1686751130700-46.png" alt="image-20230422103114011"></p>
<p>此时查看一下提交日志发现以及恢复到原来未删除<code>dev</code>分支的样子了:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422103226-1686751130700-44.png" alt="image-20230422103225256"></p>
<hr>
<p>看完本地分支，我们再来看看远程分支，首先先创建一个远程仓库：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422104951-1686751130700-45.png" alt="image-20230422104949768"></p>
<p>当我们添加一个远程分支后Git会帮我们记录远程仓库的信息:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422105412-1686751130700-47.png" alt="image-20230422105411578"></p>
<p>此时调用<code>git push -u</code> Git会帮我们创建远程分支引用:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422110309-1686751130700-48.png" alt="image-20230422110308002"></p>
<p>因为我们刚刚推送的本地仓库，因此此时远程仓库与本地仓库同步:</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422110606-1686751130700-49.png" alt="image-20230422110605588"></p>
<hr>
<p>当我们每次<code>git add</code>把文件加入暂存区时其实对每个<code>blob</code>对象都进行了压缩，压缩效果视文件具体内容而言各有不同(高度重复的内容压缩效果很好，压缩只能针对文本文件，二进制文件不能压缩)。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422112718-1686751130700-50.png" alt="image-20230422112717316"></p>
<p>可以看出，虽然我们每次只是修改了<code>file.txt</code>的一点内容，但是每次都会生成一个最新的文件快照的压缩<code>blob</code>对象，当我们调用<code>git gc</code>后Git会帮我们优化内容存储：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422113603-1686751130700-51.png" alt="image-20230422113601688"></p>
<blockquote>
<p>总共三次提交，每次提交都是创建一个blob、一个tree、一个commit，Git会把最新的<code>blob</code>对象作为基对象，计算前两个<code>blob</code>对象的差异内容(补丁)</p>
</blockquote>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422122545-1686751130700-53.png" alt="image-20230422122544109"></p>
<hr>
<p>下面我们来看一下Git分支的合并场景，最简单的一种便是<code>fast forward</code></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422124134-1686751130700-54.png" alt="image-20230422124133299"></p>
<p>可以看出，<code>master</code>指针向前移动到前一个<code>hot-fix</code>分支，此时两者指向同一个<code>commit</code></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422124331-1686751130700-52.png" alt="image-20230422124330478"></p>
<p>看完了简单的<code>fast forward</code>的分支合并，下面我们看一个复杂一些的<code>3 way merge</code>的合并场景：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/image-20230422132628382-1686751130700-56.png" alt="image-20230422132628382"></p>
<p><code>master</code>分支与<code>bug-fix</code>分支发生了合并冲突，此时暂存区里面存放了<code>test.txt</code>的三个版本(这三个版本正是冲突文件<code>test.txt</code>在<code>master</code>提交点和<code>bug-fix</code>提交点以及它俩的<code>公共祖先</code>提交点的三个不同版本)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133341-1686751130700-55.png" alt="image-20230422133340242"></p>
<p>查看历史记录和<code>master</code>最新的<code>commit</code>的内容，其<code>父commit</code>有两个：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133606-1686751130700-57.png" alt="image-20230422133605343"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422133658-1686751130700-58.png" alt="image-20230422133656882"></p>
<hr>
<p>接下来我们来看看标签到底是什么，Git里面的标签主要分为两类，即轻量标签、附注标签，我们一一比较查看：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422135916-1686751130700-59.png" alt="image-20230422135915188"></p>
<p>初始时刻我们只有一次提交，现在我们给当前<code>commit</code>打标签即<code>git tag v1.0</code></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140135-1686751130700-60.png" alt="image-20230422140134080"></p>
<p>此时可以发现，Git帮我们创建了一个<code>tag</code>文件，其指向当前的最新提交：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140330-1686751130700-61.png" alt="image-20230422140329532"></p>
<p>我们删除该轻量标签后创建一个附注标签对比一下有什么不同：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140543-1686751130700-62.png" alt="image-20230422140542180"></p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140703-1686751130700-64.png" alt="image-20230422140702686"></p>
<p>可以看出，附注标签在<code>objects</code>目录下创建了一个<code>tag</code>对象(指向最新的<code>commit</code>)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230422140858-1686751130700-63.png" alt="image-20230422140857442"></p>
<hr>
<p>下面我们来看一下Git中的<code>git fetch</code>和<code>git pull</code>命令的区别吧！</p>
<p>首先我们<code>clone </code>一下远程仓库<code>git-demo</code>，查看当前分支的情况：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426202414-1686751130700-65.png" alt="image-20230426202411095"></p>
<p>我们在远程仓库服务器中增加一个<code>dev</code>分支，然后添加一个<code>file3.txt</code>：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426202838-1686751130700-68.png" alt="image-20230426202837093"></p>
<p>当我们调用<code>git fetch</code>后，Git会自动下载<code>dev</code>分支新增的三个对象(<code>blob</code>、<code>tree</code>、<code>commit</code>对象)，并在本地新增三个文件<code>FETCH_HEAD</code>、<code>refs/remotes/origin/dev</code>、<code>logs/refs/remotes/origin/dev</code>。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426203002-1686751130700-67.png" alt="image-20230426203001094"></p>
<p>其中<code>FETCH_HEAD</code>第一行存储着合并时的分支信息，<code>refs/remotes/origin/dev</code>存储着<code>dev</code>分支的最新提交信息。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204103-1686751130700-66.png" alt="image-20230426204101905"></p>
<p>此时当使用<code>git checkout dev</code>后默认创建本地<code>dev</code>分支并自动跟追远程<code>origin/dev</code>分支：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204458-1686751130700-69.png" alt="image-20230426204457851"></p>
<p><code>git pull</code>相当于<code>git fetch</code>与<code>git merge</code>的合体，为了演示我们在<code>dev</code>分支再次创建一次新提交，此时使用<code>git remote show origin</code>查看远程信息发现本地<code>dev</code>分支已过时即落后于远程<code>dev</code>分支：</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426204753-1686751130700-70.png" alt="image-20230426204752326"></p>
<p>当我们在<code>dev</code>分支上调用<code>git pull</code>拉取远程代码并合并后，远程<code>origin/dev</code>分支指针后移(从原来的<code>44f6332</code>到更新后的<code>524c9cd</code>)，并且本地<code>dev</code>分支合并其跟追的上游分支<code>origin/dev</code>(由于是线性更新，合并策略采用<code>fast forward</code>)</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426205142-1686751130700-71.png" alt="image-20230426205140955"></p>
<p>并且此时后多出一个<code>ORIG_HEAD</code>文件，存储着当前分支<code>dev</code>的未合并前的版本信息方便回滚。</p>
<p><img src="/../../../../../../imgs/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/20230426205541-1686751130700-72.png" alt="image-20230426205540482"></p>
<hr>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/tags/">Tag</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/hulingF">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.</span> <span class="toc-text">Git原理实践</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&text=Git原理实践"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&is_video=false&description=Git原理实践"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Git原理实践&body=Check out this article: https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&title=Git原理实践"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&name=Git原理实践&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://hulingf.github.io/2023/06/14/Git%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5/&t=Git原理实践"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2023
    hulingF
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/hulingF">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
